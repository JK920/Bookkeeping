package com.service;

import java.lang.reflect.Array;
import java.util.ArrayList;

import org.springframework.stereotype.Service;

import com.model.Account;


@Service
public class AccountService {
	
	private ArrayList<Account> accountList=new ArrayList<Account>();
	
	public ArrayList<Account> getAccountList() {
		return accountList;
	}


	public void setAccountList(ArrayList<Account> accountList) {
		this.accountList = accountList;
	}

    //If needed, you can uncomment the below lines and use these objects to test the application
	public AccountService()
	{
// 		Account accObj1=new Account(1000,"John","Savings",10000);
// 		Account accObj2=new Account(2000,"Peter","Current",20000);
// 		Account accObj3=new Account(3000,"Rose","Current",9000);
// 		Account accObj4=new Account(4000,"Pinky","Savings",5000);
// 		Account accObj5=new Account(5000,"Praneeth","Savings",7500);
// 		Account accObj6=new Account(6000,"Anand","Current",2500);
// 		Account accObj7=new Account(7000,"Ashwin","Savings",2000);
		
// 		accountList.add(accObj1);
// 		accountList.add(accObj2);
// 		accountList.add(accObj3);
// 		accountList.add(accObj4);
// 		accountList.add(accObj5);
// 		accountList.add(accObj6);
// 		accountList.add(accObj7);		
	}
	
	
	public boolean addAccount(Account accountObj)
	{
		return accountList.add(accountObj);
	}
	
	public Account viewAccountById(int accountId) {
	    Account accObj = null;
	    for(Account acc:accountList) {
	    	if(acc.getAccountId()==accountId) {
	    		accObj=acc;
	    		break;
	    	}
	    }
		return accObj;
	}

	public ArrayList<Account> viewAccountsByType(String accountType)
	{
		ArrayList<Account> result = new ArrayList<>();
		for(Account acc:accountList) {
	    	if(acc.getAccountType().equals(accountType)) {
	    		result.add(acc);
	    	}
	    }
		return result;
	}
		
	public boolean updateAccountBalance(int accountId,double balance)
	{
		boolean flag = false;
		for(Account acc:accountList) {
	    	if(acc.getAccountId()==accountId) {
	    		acc.setBalance(balance);
	    		flag=true;
	    		break;
	    	}
	    }
		return flag;
	}
		
	public boolean deleteAccountInfo(int accountId) 
	{
		boolean flag = false;
		for(Account acc:accountList) {
	    	if(acc.getAccountId()==accountId) {
	    		accountList.remove(acc);
	    		flag=true;
	    		break;
	    	}
	    }
		return flag;
	}
	
}
