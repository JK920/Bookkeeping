package com.controller;

import java.util.ArrayList;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.exception.AccountException;
import com.model.Account;
import com.service.AccountService;

//Provide the necessary annotation
@RestController
@RequestMapping("/AMS")
public class AccountController {

	//Provide the necessary annotation
	@Autowired
	private AccountService accountService;

    //Provide necessary annotation for the below methods and fill the code
    
	@PostMapping("/addAccount")
	public boolean addAccount(Account accountObj)
	{
		return accountService.addAccount(accountObj);
	}
	
	@GetMapping("/viewAccountById/{accountId}")
	public Account viewAccountById(@PathVariable Integer accountId) {
	       Account acc= accountService.viewAccountById(accountId);
	       if(acc!=null) {
	    	   return acc;
	       }
	       else {
	    	   throw new AccountException("Acconut ID "+accountId+"does not exist");
	       }
	}

	public ArrayList<Account> viewAccountsByType(String accountType)
	{
		return accountService.viewAccountsByType(accountType);
	}
		
	public boolean updateAccountBalance(Integer accountId,double balance)
	{
		return accountService.updateAccountBalance(accountId, balance);
	}
		
	public boolean deleteAccountInfo(Integer accountId) 
	{
		return accountService.deleteAccountInfo(accountId);
	}

}
